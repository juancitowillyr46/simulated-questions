<app-nav></app-nav>
<div class="container-fluid">
  <div class="row">
      <app-sidebar></app-sidebar>
      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4"><div class="chartjs-size-monitor" style="position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
            <h1 class="h5 text-info"><span class="mr-2" >Professional Scrum Master</span>
            </h1>
          </div>
          <div class="row">
            <div class="col-12">
              <div class="text-center pb-1" style="font-size: 1.2em;">
                <ngb-alert [type]="alert.type" [dismissible]="false">
                  {{ alert.message }}
                </ngb-alert>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <div class="text-center" style="font-size: 2em; padding: 1em; color:#17a2b8">
                <b>{{ porcApprovedTxt }}% de Aprobación</b>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <div class="mb-4 box-graph">
                <div class="section-graph">
                  <canvas id="realtime"></canvas>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <div class="mb-4 box-detail">
                <div class="section-detail"><fa-icon class="mr-1" [icon]="['fas', 'check']"></fa-icon> <b>{{ answerCheckedSuccess }}</b>  Correctas   </div>
                <div class="section-detail"><fa-icon class="mr-1" [icon]="['fas', 'times']"></fa-icon> <b>{{ answerCheckedError }}</b>  Incorrectas   </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <div class="text-center mb-4">
                <button type="button" class="btn btn-outline-secondary" (click)="irExamenes()">Ir a examenes disponibles</button>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-12" *ngIf="false">
              <ngb-accordion #acc="ngbAccordion" [closeOthers]="true" activeIds="ngb-panel-0" (panelChange)="beforeChange($event)">
                <ngb-panel *ngFor="let question of getQuestions; let i = index;">
                  <ng-template ngbPanelHeader let-opened="opened">
                    <button ngbPanelToggle class="btn btn-link container-fluid text-left pl-0">
                      <div class="d-inline-block text-left text-dark" style="width: 100%;">
                        <fa-icon [icon]="['fas', (opened)? 'chevron-right' : 'chevron-down']" class="mr-1"></fa-icon>
                        Pregunta {{ (i + 1) }} 
                        <!-- <fa-icon *ngIf="(question.data.checkedIcon === 'exclamation')" [icon]="['fas', question.data.checkedIcon]" [class]="(question.data.checkedIcon === 'exclamation')? 'mr-1 text-warning'  : 'mr-1 text-success' "></fa-icon> -->
                      </div>
                    </button>
                  </ng-template>
                  <ng-template ngbPanelContent>
                    <div class="border border-dark p-3 rounded highlight">
                      <fa-icon [icon]="['fas', 'question-circle']" class="mr-1 text-info"></fa-icon>   
                      Pregunta {{ (i + 1) }}
                    </div>
                    <div class="border border-dark p-3 rounded mt-2">
                      <p class="mb-0">
                        {{ question.data.question }}
                      </p>
                    </div>
                    <div class="border border-dark p-3 rounded highlight" *ngIf="question.data.questionEn">
                      <div class="text-info pb-1">
                        En inglés:
                      </div>
                      <p class="text-muted mb-0">
                        {{ (question.data.questionEn && question.data.questionEn != '')? question.data.questionEn : '' }}
                      </p>
                    </div>
                    <div class="border border-dark p-3 rounded mt-2">
                      <div><fa-icon [icon]="['fas', 'list']" class="mr-1 text-info"></fa-icon> Respuestas</div>
                    </div>
                    <div class="border border-dark p-3 rounded highlight">
                      <table>
                        <tr>
                          <td class="mb-4"></td>
                          <td><fa-icon [icon]="['fas', 'user']" class="mr-2 text-info"></fa-icon></td>
                          <td><fa-icon [icon]="['fas', 'robot']" class="mr-2 text-muted"></fa-icon></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td colspan="4"><hr></td>
                        </tr>
                        <tr style="vertical-align: initial;" *ngFor="let answer of question.data.answers; let i = index;">
                          <td>
                            <fa-icon [icon]="validateOptionCorrect(answer, question.data.typeAnswer)" [class]="checkedIsNullOption(answer, question.data.typeAnswer)? 'mr-2 text-light' : 'mr-2 text-danger'"></fa-icon>
                          </td>
                          <td>
                            <fa-icon [icon]="validateCheckedUser(answer, question.data.typeAnswer)" class="mr-2 text-info"></fa-icon>
                          </td>
                          <td>
                            <fa-icon [icon]="validateCheckedSystem(answer, question.data.typeAnswer)" class="mr-2 text-muted"></fa-icon>
                          </td>
                          <td class="w-100">
                            <div class="border border-dark p-0 rounded mt-2">
                              {{ answer.name }}
                            </div>
                            <div class="border border-dark p-0 rounded highlight" *ngIf="answer.nameEn">
                              En inglés: {{ (answer.nameEn)? answer.nameEn : '' }}
                            </div>
                            <hr>
                          </td>
                        </tr>
                      </table>
                    </div>
                    <div class="border border-dark p-3 rounded mt-2">
                      <div><fa-icon [icon]="['fas', 'info-circle']" class="mr-1 text-info"></fa-icon> Justificación</div>
                    </div>
                    <div class="border border-dark p-3 rounded highlight">
                      {{ (question.data.justification)? question.data.justification : '' }}
                    </div>
                  </ng-template>
                </ngb-panel>
              </ngb-accordion>
            </div>
          </div>
      </main>
  </div>
</div>